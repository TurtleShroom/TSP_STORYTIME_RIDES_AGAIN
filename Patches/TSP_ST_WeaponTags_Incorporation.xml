<?xml version="1.0" encoding="utf-8" ?><Patch>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="ROM_Pitchfork"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="ROM_Pitchfork"]/weaponTags</xpath>			<value>				<li>CallOfCthulhu_Farmer</li>				<li>PeeledWeapon</li>				<li>PeeledWeaponBasic</li>				<li>PeeledWeaponDecent</li>				<li>Medieval</li>				<li>MedievalMeleeBasic</li>				<li>Toolagri</li>				<li>RWPMelee</li>				<li>GnomeMelee</li>				<li>GnomeSimpleMelee</li>				<li>BeetMelee</li>				<li>WoodBeetMelee</li>				<li>GoblinMelee</li>				<li>FrogmanMelee</li>				<li>SurvivalistMelee</li>				<li>JeubMelee</li>				<li>HSEdoClanPeasant</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>	<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="tool_houe"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="tool_houe"]/weaponTags</xpath>			<value>				<li>CallOfCthulhu_Farmer</li>				<li>NeolithicMeleeBasic</li>				<li>PeeledWeaponBasic</li>				<li>PeeledWeapon</li>				<li>Toolagri</li>				<li>GnomeSimpleMelee</li>				<li>HSEdoClanPeasant</li>				<li>RWPMeleeBasic</li>				<li>CallOfCthulhu_Farmer</li>				<li>PeeledWeaponBasic</li>				<li>PeeledWeapon</li>				<li>Toolagri</li>				<li>GnomeSimpleMelee</li>				<li>HSEdoClanPeasant</li>				<li>RWPMeleeBasic</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="tool_faucille"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="tool_faucille"]/weaponTags</xpath>			<value>				<li>NeolithicMeleeDecent</li>				<li>CallOfCthulhu_Farmer</li>				<li>PeeledWeaponBasic</li>				<li>PeeledWeapon</li>				<li>Toolagri</li>				<li>GnomeSimpleMelee</li>				<li>HSEdoClanPeasant</li>				<li>RWPMeleeBasic</li>				<li>CallOfCthulhu_Farmer</li>				<li>PeeledWeaponBasic</li>				<li>PeeledWeapon</li>				<li>Toolagri</li>				<li>GnomeSimpleMelee</li>				<li>GnomeMelee</li>				<li>HSEdoClanPeasant</li>				<li>RWPMeleeBasic</li>				<li>NeolithicMeleeBasic</li>				<li>Sickle</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="tool_rateau"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="tool_rateau"]/weaponTags</xpath>			<value>				<li>CallOfCthulhu_Farmer</li>				<li>PeeledWeaponBasic</li>				<li>PeeledWeapon</li>				<li>Toolagri</li>				<li>GnomeSimpleMelee</li>				<li>GnomeMelee</li>				<li>HSEdoClanPeasant</li>				<li>RWPMeleeBasic</li>				<li>NeolithicMeleeBasic</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="Gun_HarrowPurifier"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="Gun_HarrowPurifier"]/weaponTags</xpath>			<value>				<li>HarrowedGun</li>				<li>HarrowedPurifier</li>				<li>PeeledWeapon</li>				<li>PeeledWeaponHeavy</li>				<li>CallOfCthulhu_FrenziedCultist</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="Gun_HarrowPurifier"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="Gun_HarrowPurifier"]/weaponTags</xpath>			<value>				<li>HarrowedGun</li>				<li>HarrowedPurifier</li>				<li>PeeledWeapon</li>				<!-- <li>PeeledWeaponHeavy</li> -->				<li>PeeledRangedAdvanced</li>				<li>PeeledRangedHeavy</li>				<li>CallOfCthulhu_FrenziedCultist</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="MeleeWeapon_Spoon"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="MeleeWeapon_Spoon"]/weaponTags</xpath>			<value>				<li>MedievalMeleeBasic</li>				<li>PeeledWeapon</li>				<li>PeeledWeaponBasic</li>				<li>GnomeSimpleMelee</li>				<li>GnomeChef</li>				<li>Toolagri</li>				<li>GoblinBasic</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="ThrowingSpoon"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="ThrowingSpoon"]/weaponTags</xpath>			<value>				<li>NeolithicRangedHeavy</li>				<li>MedievalRangedBasic</li>				<li>GnomeRanged</li>				<li>PeeledWeapon</li>				<li>PeeledWeaponBasic</li>				<li>Toolagri</li>				<li>kunai</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="MeleeWeapon_PlansPan"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="MeleeWeapon_PlansPan"]/weaponTags</xpath>			<value>				<li>CallOfCthulhu_Farmer</li>				<li>WeebGirlWeaponry</li>				<li>WeebMinorGear</li>				<li>Toolagri</li>				<li>GnomeMelee</li>				<li>GnomeSimpleMelee</li>				<li>GnomeChef</li>				<li>BeanManMelee</li>				<li>Toolagri</li>				<li>HSEdoClanPeasant</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="ThrowingSpoon"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="ThrowingSpoon"]/weaponTags</xpath>			<value>				<li>WeebGirlWeaponry</li>				<li>WeebMinorGear</li>				<li>Toolagri</li>				<li>GnomeRanged</li>				<li>GnomeSimpleRanged</li>				<li>GnomeChef</li>				<li>BeanManRanged</li>				<li>NeolithicRangedHeavy</li>				<li>MedievalRangedBasic</li>				<li>GnomeRanged</li>				<li>GnomeChef</li>				<li>PeeledWeapon</li>				<li>PeeledWeaponBasic</li>				<li>Toolagri</li>				<li>kunai</li>				<li>WeebGirlWeaponry</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="Hamefura_GardenHoe"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="Hamefura_GardenHoe"]/weaponTags</xpath>			<value>				<li>CallOfCthulhu_Farmer</li>				<li>WeebGirlWeaponry</li>				<li>WeebMinorGear</li>				<li>MedievalMeleeBasic</li>				<li>CallOfCthulhu_Farmer</li>				<li>Toolagri</li>				<li>PeeledWeapon</li>				<li>PeeledWeaponMelee</li>				<li>PeeledWeaponBasic</li>				<li>GnomeSimpleMelee</li>				<li>HSEdoClanPeasant</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="AR_Lance"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="AR_Lance"]/weaponTags</xpath>			<value>				<!-- <li>PeeledWeapon</li> -->				<li>PeeledWeaponMelee</li>				<li>PeeledWeaponMeleeDecent</li>				<li>PeeledWeaponMeleeAdvanced</li>				<li>BeetMelee</li>				<li>GnomeMelee</li>				<li>SkeletonMelee</li>				<li>SpearMen</li>				<li>NeolithicMeleeDecent</li>				<li>NeolithicMeleeAdvanced</li>				<!-- <li>Spear</li> -->				<li>Tribal</li>				<li>Lance</li>				<li>GoblinDecent</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="AR_EyeAxe"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="AR_EyeAxe"]/weaponTags</xpath>			<value>				<li>PeeledWeapon</li>				<li>PeeledWeaponMelee</li>				<li>PeeledWeaponMeleeDecent</li>				<li>BeetMelee</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="AR_FanAxe"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="AR_FanAxe"]/weaponTags</xpath>			<value>				<li>PeeledWeapon</li>				<li>PeeledWeaponMelee</li>				<li>PeeledWeaponMeleeDecent</li>				<li>GnomeMelee</li>				<li>BeetMelee</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="MeleeWeapon_CandleHolder"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="MeleeWeapon_CandleHolder"]/weaponTags</xpath>			<value>				<li>HarrowedMelee</li>				<li>CallOfCthulhu_FrenziedCultist</li>				<li>GnomeMelee</li>				<li>PeeledWeapon</li>				<li>PeeledWeaponMelee</li>				<li>PeeledWeaponMeleeDecent</li>				<li>Hellenic</li>				<li>PoorPirate</li>				<li>FRX_Simple</li>				<li>FRX_SimpleMelee</li>				<li>GoblinBasic</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="VFEV_CryptoHeavyCrossbow"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="VFEV_CryptoHeavyCrossbow"]/weaponTags</xpath>			<value>				<li>GnomeRanged</li>				<li>BeetRanged</li>				<li>JeubRanged</li>				<li>SkeletonCrypto</li>				<li>GoblinTech</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="VFEV_CryptoLightCrossbow"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="VFEV_CryptoLightCrossbow"]/weaponTags</xpath>			<value>				<li>GnomeRanged</li>				<li>BeetRanged</li>				<li>JeubRanged</li>				<li>SkeletonCrypto</li>				<li>GoblinTech</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="VFEV_CryptoPistol"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="VFEV_CryptoPistol"]/weaponTags</xpath>			<value>				<li>SkeletonCrypto</li>				<li>GoblinTech</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="VFEV_CryptoRifle"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="VFEV_CryptoRifle"]/weaponTags</xpath>			<value>				<li>SkeletonCrypto</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<!-- The Crypto version from the Vikings Mod, that is -->	<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="MeleeWeapon_Cutlass"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="MeleeWeapon_Cutlass"]/weaponTags</xpath>			<value>				<li>SkeletonCaptain</li>				<li>SkeletonCrypto</li>				<li>RichPirate</li>				<li>Pirate</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>	<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->		<xpath>/Defs/ThingDef[defName="Gun_Cryptolator"]</xpath>		<!-- If it does, add this. -->		<match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="Gun_Cryptolator"]/weaponTags</xpath>			<value>				<li>SkeletonCrypto</li>				<li>GoblinTech</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->	<xpath>/Defs/ThingDef[defName="O21_Halloween_NeganBat"]</xpath>		<!-- If it does, add this. -->		<success>Always</success>		<match Class="PatchOperationAdd">			<success>Always</success>			<xpath>/Defs/ThingDef[defName="O21_Halloween_NeganBat"]/weaponTags</xpath>			<value>				<li>Mafiamelee</li>				<li>IndustrialMeleeDecent</li>				<li>CallOfCthulhu_Thug</li>				<li>WoodBeetMelee</li>				<li>JeubMelee</li>				<li>klan_melee</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->	<xpath>/Defs/ThingDef[defName="BarbedBat"]</xpath>		<!-- If it does, add this. -->		<success>Always</success>		<match Class="PatchOperationAdd">			<success>Always</success>			<xpath>/Defs/ThingDef[defName="BarbedBat"]/weaponTags</xpath>			<value>				<li>Mafiamelee</li>				<!-- <li>IndustrialMeleeAdvanced</li> -->				<li>CallOfCthulhu_Thug</li>				<li>WoodBeetMelee</li>				<li>klan_melee</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->	<xpath>/Defs/ThingDef[defName="O21_Halloween_LeatherfaceChainsaw"]</xpath>		<!-- If it does, add this. -->		<success>Always</success>		<match Class="PatchOperationAdd">			<success>Always</success>			<xpath>/Defs/ThingDef[defName="O21_Halloween_LeatherfaceChainsaw"]/weaponTags</xpath>			<value>				<li>IndustrialMeleeDecent</li>				<li>IndustrialMeleeAdvanced</li>				<li>CallOfCthulhu_Lumberjack</li>				<li>BeetMelee</li>				<li>JeubMelee</li>				<li>BeanManMelee</li>				<li>WoodcuttingHatchet</li>				<li>Axe</li>				<li>klan_melee</li>				<li>GoblinTech</li>				<li>GoblinDecent</li>				<li>Toolagri</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->	<xpath>/Defs/ThingDef[defName="O21_Halloween_JasonMachete"]</xpath>		<!-- If it does, add this. -->		<success>Always</success>		<match Class="PatchOperationAdd">			<success>Always</success>			<xpath>/Defs/ThingDef[defName="O21_Halloween_JasonMachete"]/weaponTags</xpath>			<value>				<li>GnomeMelee</li>				<li>BeetMelee</li>				<li>JeubMelee</li>				<li>BeanManMelee</li>				<li>Toolagri</li>				<li>klan_melee</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->	<xpath>/Defs/ThingDef[defName="O21_Halloween_FreddyClaws"]</xpath>		<!-- If it does, add this. -->		<success>Always</success>		<match Class="PatchOperationAdd">			<success>Always</success>			<xpath>/Defs/ThingDef[defName="O21_Halloween_FreddyClaws"]/weaponTags</xpath>			<value>				<li>PeeledMelee</li>				<li>PeeledWeapon</li>				<li>WoodBeetMelee</li>				<li>JeubMelee</li>				<li>WeebMelee</li>				<li>NeolithicMeleeDecent</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->	<xpath>/Defs/ThingDef[defName="O21_Halloween_SummerHook"]</xpath>		<!-- If it does, add this. -->		<success>Always</success>		<match Class="PatchOperationAdd">			<success>Always</success>			<xpath>/Defs/ThingDef[defName="O21_Halloween_SummerHook"]/weaponTags</xpath>			<value>				<li>CallOfCthulhu_Angler</li>				<li>PoorPirate</li>				<li>NormalPirate</li>				<li>SkeletonMelee</li>				<li>SkeletonPirate</li>				<li>PeeledMelee</li>				<li>PeeledWeapon</li>				<li>WoodBeetMelee</li>			</value>		</match>		<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>		<Operation Class="PatchOperationConditional">	<!-- Does this exist? -->	  <xpath>/Defs/ThingDef[defName="TSF_Hand_Mortar"]</xpath>	  <!-- If it does, add this. -->	  <match Class="PatchOperationAdd">		<success>Always</success>		<xpath>/Defs/ThingDef[defName="TSF_Hand_Mortar"]/weaponTags</xpath>		<value>			<li>OrientalHandCannon</li>			<li>WeebKenshi</li>			<li>WeebKenshiRanged</li>			<li>WeebRanged</li>			<li>OniRanged</li>			<li>OniRangedAdvanced</li>			<li>GoblinRanged</li>			<li>GoblinRangedAdvanced</li>			<li>GoblinRanged</li>			<li>GoblinDecent</li>			<li>GoblinAdvanced</li>			<li>Hanzo</li>			<li>HSApparel_SamuraiGeneral</li>			<li>ninja</li>			<li>samurai_tete_artilleur</li>			<li>samurai_artilleur</li>			<li>Artilleur</li>			<li>Fudoshin</li>		</value>	  </match>	<!-- If the first XPATH does not exist, the original code stands. -->	</Operation>	    <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->    <Operation Class="PatchOperationConditional">        <xpath>/Defs/ThingDef[defName="Gun_DOUBLE_BARREL_SHOTGUN"]/weaponTags</xpath>        <nomatch Class="PatchOperationAdd">            <xpath>/Defs/ThingDef[defName="Gun_DOUBLE_BARREL_SHOTGUN"]</xpath>			<success>Always</success>            <value>				<weaponTags></weaponTags>            </value>        </nomatch>    </Operation>    <!-- Now that the Comps object exists, add the code -->    <Operation Class="PatchOperationConditional">        <xpath>/Defs/ThingDef[defName="Gun_DOUBLE_BARREL_SHOTGUN"]/weaponTags</xpath>        <match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="Gun_DOUBLE_BARREL_SHOTGUN"]/weaponTags</xpath>			<success>Always</success>			<value>				<li>Shotgun</li>				<li>RustSentryShotgun</li>				<li>GoblinRanged</li>				<li>BeanManRanged</li>				<li>GoblinDecent</li>			</value>		</match>    </Operation>	    <!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->    <Operation Class="PatchOperationConditional">        <xpath>/Defs/ThingDef[defName="AP_BonkStick"]/weaponTags</xpath>        <nomatch Class="PatchOperationAdd">            <xpath>/Defs/ThingDef[defName="AP_BonkStick"]</xpath>			<success>Always</success>            <value>				<weaponTags></weaponTags>            </value>        </nomatch>    </Operation>    <!-- Now that the Comps object exists, add the code -->    <Operation Class="PatchOperationConditional">        <xpath>/Defs/ThingDef[defName="AP_BonkStick"]/weaponTags</xpath>        <match Class="PatchOperationAdd">			<xpath>/Defs/ThingDef[defName="AP_BonkStick"]/weaponTags</xpath>			<success>Always</success>			<value>				<li>SkeletonCrypto</li>				<li>WoodBeetMelee</li>				<li>PeeledWeaponHeavy</li>				<li>PeeledWeaponMeleeAdvanced</li>			</value>		</match>    </Operation></Patch>