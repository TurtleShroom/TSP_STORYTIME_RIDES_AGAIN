<?xml version="1.0" encoding="utf-8" ?>

<Patch>
	<!-- Aelanna's Model No-Match Detector and Insertion Code -->
	<!-- Special thanks to Aelanna for straight-up saving me scores of headaches! -->
	<!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
	<Operation Class="PatchOperationConditional">
		<xpath MayRequire="sumika.milkystar">/Defs/RecipeDef[defName="Homogenize_milk"]/ingredients/li/filter/categories</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath MayRequire="sumika.milkystar">/Defs/RecipeDef[defName="Homogenize_milk"]/ingredients/li/filter</xpath>
			<success>Always</success>
			<value>
				<categories></categories>
			</value>
		</nomatch>
	</Operation>
	
	<!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
	<Operation Class="PatchOperationConditional">
		<xpath MayRequire="sumika.milkystar">/Defs/RecipeDef[defName="Homogenize_milk"]/fixedIngredientFilter/categories</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath MayRequire="sumika.milkystar">/Defs/RecipeDef[defName="Homogenize_milk"]/fixedIngredientFilter/categories</xpath>
			<success>Always</success>
			<value>
				<categories></categories>
			</value>
		</nomatch>
	</Operation>
	
	<!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
	<Operation Class="PatchOperationConditional">
		<xpath MayRequire="sumika.milkystar">/Defs/RecipeDef[defName="Homogenize_milk_more"]/ingredients/li/filter/categories</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath MayRequire="sumika.milkystar">/Defs/RecipeDef[defName="Homogenize_milk_more"]/ingredients/li/filter</xpath>
			<success>Always</success>
			<value>
				<categories></categories>
			</value>
		</nomatch>
	</Operation>
	
	<!-- Add comps field to Settlement WorldObjectDef if it doesn't exist -->
	<Operation Class="PatchOperationConditional">
		<xpath MayRequire="sumika.milkystar">/Defs/RecipeDef[defName="Homogenize_milk_more"]/fixedIngredientFilter/categories</xpath>
		<nomatch Class="PatchOperationAdd">
			<xpath MayRequire="sumika.milkystar">/Defs/RecipeDef[defName="Homogenize_milk_more"]/fixedIngredientFilter/categories</xpath>
			<success>Always</success>
			<value>
				<categories></categories>
			</value>
		</nomatch>
	</Operation>

	<Operation Class="PatchOperationConditional" MayRequire="sumika.milkystar">
	<!-- Does this exist? -->
		<xpath MayRequire="sumika.milkystar">/Defs/RecipeDef[defName="Homogenize_milk"]</xpath>
		<!-- If it does, LET'S FASTING GOOOOOOO! -->
		<match Class="PatchOperationSequence" MayRequire="sumika.milkystar">
			<operations MayRequire="sumika.milkystar">
				<li Class="PatchOperationAttributeRemove">
					<xpath>Defs/RecipeDef[defName="Homogenize_milk"]</xpath>
					<success>Always</success>
					<attribute>MayRequire</attribute>
				</li>
				
				<li Class="PatchOperationAttributeRemove">
					<xpath>Defs/RecipeDef[defName="Homogenize_milk_more"]</xpath>
					<success>Always</success>
					<attribute>MayRequire</attribute>
				</li>
				
				<li Class="PatchOperationAttributeRemove">
					<xpath>Defs/RecipeDef[defName="Homogenize_milk"]</xpath>
					<success>Always</success>
					<attribute>MayRequire</attribute>
				</li>
				
				<li Class="PatchOperationAttributeRemove">
					<xpath>Defs/RecipeDef[defName="Homogenize_milk_more"]</xpath>
					<success>Always</success>
					<attribute>MayRequire</attribute>
				</li>
				
				<li Class="PatchOperationAdd">
					<success>Always</success>
					<xpath>Defs/RecipeDef[defName="Homogenize_milk"]/ingredients/li/filter/thingDefs</xpath>
					<value>
						<li MayRequire="gguake.race.vivi">VV_Vivicream</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.zal.extendedbioengineering">VFEI_InsectMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="honorablepleb.pilkablenecoarc">Pilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="deemainiac.securecontainrimworld">SCR_4155SoftServe</li>
						<li MayRequire="Epona.EponaRenaissance">Epona_Sheep_Milk</li>
					</value>
				</li>
				
				<li Class="PatchOperationAdd">
					<success>Always</success>
					<xpath>Defs/RecipeDef[defName="Homogenize_milk"]/fixedIngredientFilter/thingDefs</xpath>
					<value>
						<li MayRequire="gguake.race.vivi">VV_Vivicream</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.zal.extendedbioengineering">VFEI_InsectMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="honorablepleb.pilkablenecoarc">Pilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="deemainiac.securecontainrimworld">SCR_4155SoftServe</li>
						<li MayRequire="Epona.EponaRenaissance">Epona_Sheep_Milk</li>
					</value>
				</li>
				
				<li Class="PatchOperationAdd">
					<success>Always</success>
					<xpath>Defs/RecipeDef[defName="Homogenize_milk_more"]/ingredients/li/filter/thingDefs</xpath>
					<value>
						<li MayRequire="gguake.race.vivi">VV_Vivicream</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.zal.extendedbioengineering">VFEI_InsectMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="honorablepleb.pilkablenecoarc">Pilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="deemainiac.securecontainrimworld">SCR_4155SoftServe</li>
						<li MayRequire="Epona.EponaRenaissance">Epona_Sheep_Milk</li>
					</value>
				</li>
				
				<li Class="PatchOperationAdd">
					<success>Always</success>
					<xpath>Defs/RecipeDef[defName="Homogenize_milk_more"]/fixedIngredientFilter/thingDefs</xpath>
					<value>
						<li MayRequire="gguake.race.vivi">VV_Vivicream</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.zal.extendedbioengineering">VFEI_InsectMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="honorablepleb.pilkablenecoarc">Pilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="deemainiac.securecontainrimworld">SCR_4155SoftServe</li>
						<li MayRequire="Epona.EponaRenaissance">Epona_Sheep_Milk</li>
					</value>
				</li>
				
				<li Class="PatchOperationAdd" MayRequire="dankpyon.medieval.overhaul">
					<success>Always</success>
					<xpath>Defs/RecipeDef[defName="Homogenize_milk"]/ingredients/li/filter/categories</xpath>
					<value>
						<li MayRequire="dankpyon.medieval.overhaul">DankPyon_Milk</li>
					</value>
				</li>
				
				<li Class="PatchOperationAdd" MayRequire="dankpyon.medieval.overhaul">
					<success>Always</success>
					<xpath>Defs/RecipeDef[defName="Homogenize_milk"]/fixedIngredientFilter/categories</xpath>
					<value>
						<li MayRequire="dankpyon.medieval.overhaul">DankPyon_Milk</li>
					</value>
				</li>
				
				<li Class="PatchOperationAdd" MayRequire="dankpyon.medieval.overhaul">
					<success>Always</success>
					<xpath>Defs/RecipeDef[defName="Homogenize_milk_more"]/ingredients/li/filter/categories</xpath>
					<value>
						<li MayRequire="dankpyon.medieval.overhaul">DankPyon_Milk</li>
					</value>
				</li>
				
				<li Class="PatchOperationAdd" MayRequire="dankpyon.medieval.overhaul">
					<success>Always</success>
					<xpath>Defs/RecipeDef[defName="Homogenize_milk_more"]/fixedIngredientFilter/categories</xpath>
					<value>
						<li MayRequire="dankpyon.medieval.overhaul">DankPyon_Milk</li>
					</value>
				</li>
				
				<li Class="PatchOperationAdd">
					<success>Always</success>
					<xpath>Defs/RecipeDef[defName="Homogenize_milk"]/ingredients/li/filter/thingDefs</xpath>
					<value>
						<li MayRequire="sarg.rimbees">RB_HoneyedIcePop</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.zal.extendedbioengineering">VFEI_InsectMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="honorablepleb.pilkablenecoarc">Pilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="deemainiac.securecontainrimworld">SCR_4155SoftServe</li>
						<li MayRequire="Epona.EponaRenaissance">Epona_Sheep_Milk</li>
					</value>
				</li>
				
				<li Class="PatchOperationAdd">
					<success>Always</success>
					<xpath>Defs/RecipeDef[defName="Homogenize_milk"]/fixedIngredientFilter/thingDefs</xpath>
					<value>
						<li MayRequire="sarg.rimbees">RB_HoneyedIcePop</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.zal.extendedbioengineering">VFEI_InsectMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="honorablepleb.pilkablenecoarc">Pilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="deemainiac.securecontainrimworld">SCR_4155SoftServe</li>
						<li MayRequire="Epona.EponaRenaissance">Epona_Sheep_Milk</li>
					</value>
				</li>
				
				<li Class="PatchOperationAdd">
					<success>Always</success>
					<xpath>Defs/RecipeDef[defName="Homogenize_milk_more"]/ingredients/li/filter/thingDefs</xpath>
					<value>
						<li MayRequire="sarg.rimbees">RB_HoneyedIcePop</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.zal.extendedbioengineering">VFEI_InsectMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="honorablepleb.pilkablenecoarc">Pilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="deemainiac.securecontainrimworld">SCR_4155SoftServe</li>
						<li MayRequire="Epona.EponaRenaissance">Epona_Sheep_Milk</li>
					</value>
				</li>
				
				<li Class="PatchOperationAdd">
					<success>Always</success>
					<xpath>Defs/RecipeDef[defName="Homogenize_milk_more"]/fixedIngredientFilter/thingDefs</xpath>
					<value>
						<li MayRequire="sarg.rimbees">RB_HoneyedIcePop</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">ST_Green_Milk</li>
						<li MayRequire="TSP.Isengriff.Storytime">Rylex_CoconutMilk</li>
						<li MayRequire="tsp.isengriff.storytime.runezone">TSP_ST_RuneJuice</li>
						<li MayRequire="TSP.Isengriff.Storytime">BORPA_Milk</li>
						<li MayRequire="sarg.rimbees">RB_BeeMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_BlueMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_GowMilk</li>
						<li MayRequire="sarg.alphaanimals">AA_NightMilk</li>
						<li MayRequire="TSP.zal.extendedbioengineering">VFEI_InsectMilk</li>
						<li MayRequire="TSP.Isengriff.Storytime">VFEI_InsectMilk</li>
						<li MayRequire="hh.xrushha.AnimaAnimalsCombined">AnimaThrumboMilk</li>
						<li MayRequire="ironscruff.primordialgeysers">IronScruff_MicrobeSqueezins</li>
						<li MayRequire="lat.rimstro">RS_Berrymilk</li>
						<li MayRequire="lat.rimstro">RS_chocomilk</li>
						<li MayRequire="honorablepleb.pilkablenecoarc">Pilk</li>
						<li MayRequire="dtf.milkrats">dtf_vanillamilk</li>
						<li MayRequire="dtf.milkrats">dtf_chocolatemilk</li>
						<li MayRequire="dtf.milkrats">dtf_strawberrymilk</li>
						<li MayRequire="deemainiac.securecontainrimworld">SCR_4155SoftServe</li>
						<li MayRequire="Epona.EponaRenaissance">Epona_Sheep_Milk</li>
					</value>
				</li>
			</operations>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
</Patch>