<?xml version="1.0" encoding="utf-8" ?>

<Patch>
	<Operation Class="PatchOperationAdd">
		<success>Always</success>
		<xpath>/Defs/RecipeDef[@Name="CookMealBase"]/defaultIngredientFilter/disallowedThingDefs</xpath>
		<value>
			<li>Gnome_Cloth</li>
			<li>NogStarter</li>
			<li>RawNog</li>
			<li>ToadflaxLeaves</li>
		</value>
	</Operation>
	
	<!--
	<Operation Class="PatchOperationConditional">
	Does this exist?
		<xpath>/Defs/ThingDef[defName="VCE_Flour"]</xpath>
		If it does, add this.
		<match Class="PatchOperationAdd">
			<xpath>/Defs/RecipeDef[@Name="VCE_CookBakeMealBase"]/fixedIngredientFilter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> Oriental rice flour
			</value>
		</match>
		If the first XPATH does not exist, the original code stands.
	</Operation>
	-->
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_Flour"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[@Name="VCE_CookBakeMealBase"]/fixedIngredientFilter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_Flour"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[@Name="VCE_CookBakeMealBase"]/defaultIngredientFilter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>

	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_Flour"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="VCE_CookBakeSimple"]/ingredients/li/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_Flour"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="VCE_CookBakeSimpleBulk"]/ingredients/li/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_Flour"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="VCE_CookBakeFine"]/ingredients/li[3]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_Flour"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="VCE_CookBakeFineBulk"]/ingredients/li[3]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_Flour"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="VCE_CookBakeLavish"]/ingredients/li[3]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_Flour"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="VCE_CookBakeLavishBulk"]/ingredients/li[3]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_Flour"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">	
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="VCE_CookBakeGourmet"]/ingredients/li[4]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_Flour"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="VCE_CookBakeGourmetBulk"]/ingredients/li[4]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_Flour"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs</xpath>
			<value>
				<RecipeDef ParentName="VCE_CookGourmetBakeMealBase">
					<defName>VCE_CookBakeGourmet</defName>
					<label>cook gourmet bake x8</label>
					<description>Cook eight culinary works of art, characterized by refined, even elaborate preparation and presentation of an aesthetically balanced, baked good.\n\nThis recipe does not allow mixed ingredients.</description>
					<jobString>Cooking gourmet bake x8.</jobString>
					<workSpeedStat>CookSpeed</workSpeedStat>
					<effectWorking>Cook</effectWorking>
					<soundWorking>Recipe_CookMeal</soundWorking>
					<allowMixingIngredients>false</allowMixingIngredients>
					<ingredientValueGetterClass>VanillaCookingExpanded.IngredientValueGetter_NutritionWithExtraIngredient</ingredientValueGetterClass>
					<recipeUsers>
						<li>ElectricStove</li>	
						<li>FueledStove</li>			
					</recipeUsers>

					<ingredients>
						<li>
							<filter>
								<categories>
									<li>MeatRaw</li>
									<li>AnimalProductRaw</li>
								</categories>
							</filter>
							<count>2</count>
						</li>
						<li>
							<filter>
								<categories>
									<li>PlantFoodRaw</li>
								</categories>
							</filter>
							<count>2</count>
						</li>
						<li>
							<filter>
								<categories>
									<li>VCE_Condiments</li>
								</categories>
							</filter>
							<count>2.5</count>
						</li>
						<li>
							<filter>
								<thingDefs>
									<li>VCE_Flour</li>
									<li>GnomeFlour</li>
									<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
								</thingDefs>
							</filter>
							<count>2.5</count>
						</li>
					</ingredients>
					<products>
						<VCE_GourmetBake>8</VCE_GourmetBake>
					</products>
					<skillRequirements>
						<Cooking>10</Cooking>
					</skillRequirements>
				</RecipeDef>
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="WorkedRawRice"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="CookGuoFu"]/ingredients/li/filter/thingDefs</xpath>
			<value>
				<li>RawAgave</li>
				<li>ST_CookingApple</li>
				<li>ST_Lemon</li>
				<li>ST_Orange</li>
				<li MayRequire="GarbageDayIsHereToStay.Watermelons.GDIHTSWM">RAW_WATERMELON_RESOURCE_DEF</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Bananas</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Oranges</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Pineapples</li>
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="WorkedRawRice"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="CookGuoFu"]/fixedIngredientFilter/thingDefs</xpath>
			<value>
				<li>RawAgave</li>
				<li>ST_CookingApple</li>
				<li>ST_Lemon</li>
				<li>ST_Orange</li>
				<li MayRequire="GarbageDayIsHereToStay.Watermelons.GDIHTSWM">RAW_WATERMELON_RESOURCE_DEF</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Bananas</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Oranges</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Pineapples</li>
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>

	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="WorkedRawRice"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="CookGuoFu_eight"]/ingredients/li/filter/thingDefs</xpath>
			<value>
				<li>RawAgave</li>
				<li>ST_CookingApple</li>
				<li>ST_Lemon</li>
				<li>ST_Orange</li>
				<li MayRequire="GarbageDayIsHereToStay.Watermelons.GDIHTSWM">RAW_WATERMELON_RESOURCE_DEF</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Bananas</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Oranges</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Pineapples</li>
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="WorkedRawRice"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="CookGuoFu_eight"]/fixedIngredientFilter/thingDefs</xpath>
			<value>
				<li>RawAgave</li>
				<li>ST_CookingApple</li>
				<li>ST_Lemon</li>
				<li>ST_Orange</li>
				<li MayRequire="GarbageDayIsHereToStay.Watermelons.GDIHTSWM">RAW_WATERMELON_RESOURCE_DEF</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Bananas</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Oranges</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Pineapples</li>
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>

	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="WorkedRawRice"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="CookGuoFu_ershi"]/ingredients/li/filter/thingDefs</xpath>
			<value>
				<li>RawAgave</li>
				<li>ST_CookingApple</li>
				<li>ST_Lemon</li>
				<li>ST_Orange</li>
				<li MayRequire="GarbageDayIsHereToStay.Watermelons.GDIHTSWM">RAW_WATERMELON_RESOURCE_DEF</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Bananas</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Oranges</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Pineapples</li>
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="WorkedRawRice"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="CookGuoFu_ershi"]/fixedIngredientFilter/thingDefs</xpath>
			<value>
				<li>RawAgave</li>
				<li>ST_CookingApple</li>
				<li>ST_Lemon</li>
				<li>ST_Orange</li>
				<li MayRequire="GarbageDayIsHereToStay.Watermelons.GDIHTSWM">RAW_WATERMELON_RESOURCE_DEF</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Bananas</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Oranges</li>
				<li MayRequire="BiomesTeam.BiomesIslands">BiomesIslands_Pineapples</li>
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="WorkedRawRice"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="CookBZongZi"]/ingredients/li[2]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li>ToadflaxLeaves</li>
				<li MayRequire="vanillaexpanded.vcooke">VCE_Flour</li>
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>

	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="WorkedRawRice"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="CookBZongZi_eight"]/ingredients/li[2]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li>ToadflaxLeaves</li>
				<li MayRequire="vanillaexpanded.vcooke">VCE_Flour</li>
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="WorkedRawRice"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="CookBZongZi_eight"]/ingredients/li[2]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li>ToadflaxLeaves</li>
				<li MayRequire="vanillaexpanded.vcooke">VCE_Flour</li>
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="WorkedRawRice"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="CookBZongZi_ershi"]/ingredients/li[2]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li>ToadflaxLeaves</li>
				<li MayRequire="vanillaexpanded.vcooke">VCE_Flour</li>
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>

	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_FineBake_Veg"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="VCE_CookBakeFine_Veg"]/ingredients/li[2]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_FineBake_Veg"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="VCE_CookBakeFine_Veg_bulk"]/ingredients/li[2]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_FineBake_Veg"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="VCE_CookBakeLavish_Veg"]/ingredients/li[2]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_FineBake_Veg"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="VCE_CookBakeLavish_Veg_bulk"]/ingredients/li[2]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>

	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="VCE_FineBake_Veg"]</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/RecipeDef[defName="VCE_CookBakeGourmet_Veg"]/ingredients/li[3]/filter/thingDefs</xpath>
			<value>
				<li>GnomeFlour</li>
				<li MayRequire="Dajian.ChiTeaditional.Expanded">WorkedRawRice</li> <!-- Oriental rice flour -->
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
</Patch>