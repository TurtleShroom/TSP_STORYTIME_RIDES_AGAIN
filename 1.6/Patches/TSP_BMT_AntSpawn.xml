<?xml version="1.0" encoding="utf-8" ?>

<!-- Code shamelessly taken from the Biomes Caverns Mod -->
<!-- https://www.steamcommunity.com/sharedfiles/filedetails/?id=2969748433 -->
<Patch>
	<Operation Class="PatchOperationAdd" MayRequire="biomesteam.biomescore">
		<xpath MayRequire="biomesteam.biomescore">/Defs/ThingDef[defName="Hive"]/comps</xpath>
		<value MayRequire="biomesteam.biomescore">
			<li Class="BiomesCore.ThingComponents.CompProperties_CompAnimalsAroundThing" MayRequire="biomesteam.biomescore">
				<pawnDef MayRequire="biomesteam.biomescore">ST_Ant</pawnDef>
				<pawnCount MayRequire="biomesteam.biomescore">2</pawnCount>
				<pawnSpawnIntervalDays MayRequire="biomesteam.biomescore">0.47~0.6</pawnSpawnIntervalDays>
				<spawnSound MayRequire="biomesteam.biomescore">Hive_Spawn</spawnSound>
			</li>
		</value>
	</Operation>
	
	<Operation Class="PatchOperationConditional">
	<!-- Does this exist? -->
		<xpath>/Defs/ThingDef[defName="Hive"]/comps/li/spawnablePawnKinds</xpath>
		<!-- If it does, add this. -->
		<match Class="PatchOperationAdd">
			<success>Always</success>
			<xpath>/Defs/ThingDef[defName="Hive"]/comps/li/spawnablePawnKinds</xpath>
			<value>
				<li>ST_Ant</li>
				<li>VFEI1_VatGrown_MilkBeetle</li>
				<li>JudasFrog</li>
			</value>
		</match>
		<!-- If the first XPATH does not exist, the original code stands. -->
	</Operation>
</Patch>