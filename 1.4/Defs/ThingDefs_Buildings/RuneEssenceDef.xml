<?xml version="1.0" encoding="utf-8" ?>

<Defs>
  <ThingDef ParentName="RockBase" Name="EssenceBase" Abstract="True">
    <!-- <defName>runeEssence</defName> -->
    <label>rune essence</label>
    <description>A beautiful stone brimming with potential.</description>
    <graphicData>
		<texPath>Things/Building/Linked/RockSmooth_Atlas</texPath>
		<color>(110, 115, 115)</color>
    </graphicData>
    <statBases>
      <MaxHitPoints>500</MaxHitPoints>
	  <Beauty>2</Beauty>
    </statBases>
    <building>
      <mineableThing>ChunkEssence</mineableThing>
      <mineableDropChance>0.6</mineableDropChance>
      <!-- <smoothedThing>SmoothedEssence</smoothedThing> -->
    </building>
	<modExtensions>
		<li Class="BiomesCore.DefModExtensions.BiomesMap" MayRequire="biomesteam.biomescore">
			<allowedBiomes MayRequire="biomesteam.biomescore">
				<li MayRequire="biomesteam.biomescore,TSP.Isengriff.Storytime.RuneZone">runeEssenceMine</li>
			</allowedBiomes>
		</li>
	</modExtensions>
  </ThingDef>
  
  <ThingDef ParentName="EssenceBase">
    <defName>SmoothedEssence</defName>
    <label>rune essence</label>
    <description>A beautiful stone brimming with potential.</description>
    <graphicData>
      <texPath>Things/Building/Linked/RockSmooth_Atlas</texPath>
    </graphicData>
    <statBases>
      <Beauty>2</Beauty>
      <MarketValue>25</MarketValue>
    </statBases>
    <building>
      <isNaturalRock>true</isNaturalRock>
      <canBuildNonEdificesUnder>true</canBuildNonEdificesUnder>
      <artificialForMeditationPurposes>false</artificialForMeditationPurposes>
      <smoothedThing />
    </building>
    <saveCompressible>false</saveCompressible>
    <repairEffect>Repair</repairEffect>
	<modExtensions Inherit="False">
		<li Class="BiomesCore.DefModExtensions.BiomesMap" MayRequire="biomesteam.biomescore">
			<allowedBiomes MayRequire="biomesteam.biomescore">
				<li MayRequire="biomesteam.biomescore,tsp.isengriff.storytime.runezone">runeEssenceMine</li>
			</allowedBiomes>
		</li>
	</modExtensions>
  </ThingDef>
  
  <ThingDef ParentName="ChunkRockBase">
    <defName>ChunkEssence</defName>
    <label>rune essence chunk</label>
    <graphicData>
      <color>(110, 115, 115)</color>
    </graphicData>
    <statBases>
		<Beauty>1</Beauty>
		<Mass>15</Mass>
    </statBases>
    <soundDrop>ChunkRock_Drop</soundDrop>
    <butcherProducts>
      <BlankRune>20</BlankRune>
    </butcherProducts>
  </ThingDef>

  <RecipeDef ParentName="MakeStoneBlocksBase">
    <defName>Make_BlankRune</defName>
    <label>make blank runes</label>
    <description>Cuts rune essence into blank runes.</description>
    <ingredients>
      <li>
        <filter>
          <thingDefs>
            <li>ChunkEssence</li>
          </thingDefs>
        </filter>
        <count>1</count>
      </li>
    </ingredients>
    <fixedIngredientFilter>
      <thingDefs>
        <li>ChunkEssence</li>
      </thingDefs>
    </fixedIngredientFilter>
    <products>
      <BlankRune>25</BlankRune>
    </products>
  </RecipeDef>
</Defs>
