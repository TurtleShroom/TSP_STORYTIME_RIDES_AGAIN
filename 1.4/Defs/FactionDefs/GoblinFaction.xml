<?xml version="1.0" encoding="utf-8"?>

<Defs>
  <FactionDef>
    <defName>GoblinTown</defName>
    <label>goblin clan</label>
    <description>Politically Organized Goblins.</description>
    <pawnsPlural>goblins</pawnsPlural>
    <settlementGenerationWeight>0.4</settlementGenerationWeight>
    <requiredCountAtGameStart>1</requiredCountAtGameStart>
	<maxCountAtGameStart>1</maxCountAtGameStart>
	<maxConfigurableAtWorldCreation>999</maxConfigurableAtWorldCreation>
    <canMakeRandomly>true</canMakeRandomly>
    <canStageAttacks>true</canStageAttacks>
	<canSiege>true</canSiege>
	<basicMemberKind>GoblinPeon</basicMemberKind>
    <factionIconPath>World/Goblins/GoblinLogo</factionIconPath>
    <colorSpectrum>
      <li>(150, 175, 25)</li>
    </colorSpectrum>
    <disallowedMemes>
		<li MayRequire="Ludeon.RimWorld.Ideology">Loyalist</li>
		<li MayRequire="Ludeon.RimWorld.Ideology">Collectivist</li>
		<li MayRequire="Ludeon.RimWorld.Ideology">Individualist</li>
		<li MayRequire="VanillaExpanded.VMemesE">VME_Gestalt</li>
		<li MayRequire="Ludeon.RimWorld.Ideology">Structure_OriginChristian</li>
		
		<!-- If you have the Mod -->
		<li MayRequire="Qux.factionhippie">PeaceLove</li>
		<li MayRequire="VanillaExpanded.VMemesE">VME_Vegan</li>
		<li MayRequire="Zezz.Altrumeme">Altruism</li>
		<li MayRequire="Sarg.AlphaMemes">AM_NonViolence</li>
    </disallowedMemes>
    <requiredMemes>
      <li MayRequire="vanillaexpanded.vmemese">VME_Scrapper</li>
    </requiredMemes>
	<disallowedPrecepts>
		<li MayRequire="Ludeon.RimWorld.Ideology">Charity_Essential</li>
		<li MayRequire="Ludeon.RimWorld.Ideology">Charity_Important</li>
		<li MayRequire="Ludeon.RimWorld.Ideology">Charity_Worthwhile</li>
	</disallowedPrecepts>
    <allowedCultures>
		<li>STGoblin</li>
	</allowedCultures>
	<!--
    <structureMemeWeights>
      <STGoblinOrigin MayRequire="Ludeon.RimWorld.Ideology">1</STGoblinOrigin>
    </structureMemeWeights>
	-->
    <apparelStuffFilter>
      <thingDefs>
        <li>Leather_Patch</li>
		<li>Plasteel</li>
		<li>Leather_Gibbon</li>
		<li MayRequire="sihv.rombones">BoneItem</li>
        <li MayRequire="tsp.isengriff.bronzecoppertin_split">ST_Tin</li>
      </thingDefs>
    </apparelStuffFilter>
    <factionNameMaker>NamerFactionGoblinTribes</factionNameMaker>
    <settlementNameMaker>GoblinSettlementName</settlementNameMaker>
    <techLevel>Medieval</techLevel>
    <backstoryCategories>
      <li>GoblinBackstory</li>
    </backstoryCategories>
    <caravanTraderKinds>
		<li>Caravan_Neolithic_BulkGoods</li>
		<li>Caravan_Neolithic_WarMerchant</li>
		<li>Caravan_Neolithic_Slaver</li>
		<li MayRequire="zhrocks11.letstrade">Caravan_Outlander_Drugs</li>
		<li MayRequire="zhrocks11.letstrade">Caravan_Outlander_Textiles</li>
    </caravanTraderKinds>
    <visitorTraderKinds>
      <li>Visitor_Neolithic_Standard</li>
    </visitorTraderKinds>
    <baseTraderKinds>
      <li>Base_Neolithic_Standard</li>
    </baseTraderKinds>
    <allowedArrivalTemperatureRange>
      <min>-40</min>
      <max>45</max>
    </allowedArrivalTemperatureRange>
    <maxPawnCostPerTotalPointsCurve>
      <points>
        <li>(0,35)</li>
        <li>(70, 50)</li>
        <li>(700, 100)</li>
        <li>(1300, 150)</li>
        <li>(100000, 10000)</li>
      </points>
    </maxPawnCostPerTotalPointsCurve>
	<raidLootValueFromPointsCurve>
      <points>
        <li>(35,     15)</li>
        <li>(100,   120)</li>
        <li>(1000,  500)</li>
        <li>(2000,  800)</li>
        <li>(4000, 1000)</li>
      </points>
    </raidLootValueFromPointsCurve>
    <pawnGroupMakers>
      <li>
        <kindDef>Peaceful</kindDef>
		<commonality>100</commonality>
        <options>
          <GoblinPeon>20</GoblinPeon>
          <GoblinArcher>20</GoblinArcher>
          <GoblinRunner>25</GoblinRunner>
          <GoblinTinkerer>10</GoblinTinkerer>
		  <GoblinWarrior>20</GoblinWarrior>
          <GoblinWarlord>5</GoblinWarlord>
		  <GoblinTrader>1</GoblinTrader>
		  <TSP_ST_VFEE_GoblinDeserter MayRequire="oskarpotocki.vfe.empire">0.001</TSP_ST_VFEE_GoblinDeserter>
        </options>
      </li>
      <li MayRequire="oskarpotocki.vfe.empire">
        <kindDef MayRequire="oskarpotocki.vfe.empire">Peaceful</kindDef>
		<commonality MayRequire="oskarpotocki.vfe.empire">0.01</commonality>
        <options MayRequire="oskarpotocki.vfe.empire">
		  <TSP_ST_VFEE_GoblinDeserter MayRequire="oskarpotocki.vfe.empire">999</TSP_ST_VFEE_GoblinDeserter>
        </options>
      </li>
      <li>
        <kindDef>Combat</kindDef>
		<commonality>100</commonality>
        <options>
          <GoblinPeon>20</GoblinPeon>
          <GoblinArcher>20</GoblinArcher>
          <GoblinRunner>50</GoblinRunner>
          <GoblinTinkerer>30</GoblinTinkerer>
		  <GoblinWarrior>20</GoblinWarrior>
          <GoblinWarlord>5</GoblinWarlord>
		  <TSP_ST_VFEE_GoblinDeserter MayRequire="oskarpotocki.vfe.empire">0.001</TSP_ST_VFEE_GoblinDeserter>
		  <Bat MayRequire="zal.witchinghour">1</Bat>
		  <HalloweenBat MayRequire="halloweenparade.velcroboy333">1</HalloweenBat>
		  <FunnyFungus MayRequire="halloweenparade.velcroboy333">1</FunnyFungus>
		  <PumpkinSad MayRequire="halloweenparade.velcroboy333">0.8</PumpkinSad>
		  <PumpkinSmile MayRequire="halloweenparade.velcroboy333">0.83</PumpkinSmile>
		  <PumpkinAnger MayRequire="halloweenparade.velcroboy333">0.82</PumpkinAnger>
        </options>
      </li>
      <li>
        <kindDef>Combat</kindDef>
		<commonality>100</commonality>
        <options>
          <GoblinRunner>10</GoblinRunner>
          <GoblinTinkerer>60</GoblinTinkerer>
          <GoblinWarlord>5</GoblinWarlord>
		  <TSP_ST_VFEE_GoblinDeserter MayRequire="oskarpotocki.vfe.empire">0.001</TSP_ST_VFEE_GoblinDeserter>
        </options>
      </li>
      <li>
        <kindDef>Trader</kindDef>
        <traders>
          <GoblinTrader>1</GoblinTrader>
        </traders>
        <carriers>
          <Muffalo>1</Muffalo>
		  <Elephant>80</Elephant>
		  <Reaper MayRequire="halloweenparade.velcroboy333">100</Reaper>
        </carriers>
        <guards>
          <GoblinPeon>20</GoblinPeon>
          <GoblinArcher>20</GoblinArcher>
          <GoblinRunner>25</GoblinRunner>
          <GoblinTinkerer>30</GoblinTinkerer>
		  <GoblinWarrior>20</GoblinWarrior>
          <GoblinWarlord>5</GoblinWarlord>
		  <TSP_ST_VFEE_GoblinDeserter MayRequire="oskarpotocki.vfe.empire">0.001</TSP_ST_VFEE_GoblinDeserter>
		  <Bat MayRequire="zal.witchinghour">15</Bat>
		  <HalloweenBat MayRequire="halloweenparade.velcroboy333">15</HalloweenBat>
		  <FunnyFungus MayRequire="halloweenparade.velcroboy333">1</FunnyFungus>
		  <PumpkinSad MayRequire="halloweenparade.velcroboy333">0.8</PumpkinSad>
		  <PumpkinSmile MayRequire="halloweenparade.velcroboy333">0.83</PumpkinSmile>
		  <PumpkinAnger MayRequire="halloweenparade.velcroboy333">0.82</PumpkinAnger>
        </guards>
      </li>
      <li>
        <kindDef>Settlement</kindDef>
        <options>
          <GoblinPeon>30</GoblinPeon>
          <GoblinArcher>20</GoblinArcher>
          <GoblinRunner>10</GoblinRunner>
          <GoblinTinkerer>5</GoblinTinkerer>
		  <GoblinWarrior>20</GoblinWarrior>
          <GoblinWarlord>15</GoblinWarlord>
		  <TSP_ST_VFEE_GoblinDeserter MayRequire="oskarpotocki.vfe.empire">0.001</TSP_ST_VFEE_GoblinDeserter>
		  <Bat MayRequire="zal.witchinghour">5</Bat>
		  <HalloweenBat MayRequire="halloweenparade.velcroboy333">5</HalloweenBat>
		  <FunnyFungus MayRequire="halloweenparade.velcroboy333">1</FunnyFungus>
		  <PumpkinSad MayRequire="halloweenparade.velcroboy333">0.8</PumpkinSad>
		  <PumpkinSmile MayRequire="halloweenparade.velcroboy333">0.83</PumpkinSmile>
		  <PumpkinAnger MayRequire="halloweenparade.velcroboy333">0.82</PumpkinAnger>
        </options>
      </li>
    </pawnGroupMakers>
    <settlementTexturePath>World/Goblins/GoblinLogo</settlementTexturePath>
	<modExtensions>
		<li Class="FactionSounds.FactionSound">
			<soundDef>Goblin_Town</soundDef>
		</li>
		<li Class="VFEEmpire.FactionExtension_Deserters" MayRequire="oskarpotocki.vfe.empire">
			<canSendDeserters MayRequire="oskarpotocki.vfe.empire">true</canSendDeserters>
			<deserterKind MayRequire="oskarpotocki.vfe.empire">TSP_ST_VFEE_GoblinDeserter</deserterKind>
		</li>
    </modExtensions>
  </FactionDef>
</Defs>